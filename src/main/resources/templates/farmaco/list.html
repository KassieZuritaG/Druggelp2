<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
<head th:replace="layout :: frgCSS"></head>
<header th:replace="layout :: frgheader"></header>
<body>
	
	<center><h2>Fármacos</h2></center>
	
	
	<div class="top-popular-courses-area mt-600 section-padding-100-40">
		<section class="contact-area mt-50">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="contact-content">
							<div class="row">
								<div class="col-12">
									<div class="section-heading text-left">
											<h4 th:text="${title}"></h4>											
										</div>
									<div class="contact-form-area wow fadeInUp"
										data-wow-delay="500ms">
									
														
					<table  class="table table-hover">
						<thead class="bg-light">
							<tr>
								<th><i class="fas fa-adjust"></i>&nbsp;Nombre</th>
								<th><i class="fas fa-dollar-sign"></i>&nbsp;Costo</th>
								<th><i class="fas fa-calendar-alt"></i>&nbsp;Fecha de Fabricación</th>
								<th><i class="fas fa-calendar-alt"></i>&nbsp;Fecha de Expiración</th>	
								<th><i class="fas fa-list-ol"></i>&nbsp;Cantidad</th>
								<th><i class="far fa-bookmark"></i>&nbsp;Tipo de Medicamento</th>				
								<th><a class="btn btn-primary btn-lg active" th:href="@{/farmaco/create}"><i class="fas fa-plus-circle"></i>&nbsp;Nuevo</a></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="farmaco : ${farmacos}">
								<td th:text="${farmaco.nombre}"></td>
								<td th:text="${farmaco.costo}"></td>								
								<td th:text="${farmaco.fechaFab()}"></td>
								<td th:text="${farmaco.fechaExp()}"></td>
								<td th:text="${farmaco.cantidad}"></td>
								<td th:text="${farmaco.tipoMedicamento}"></td>
								<td>									
									<a class="btn btn-success btn-lg active" th:href="@{/farmaco/retrieve/} + ${farmaco.idfarmaco}"><i class="fas fa-eye"></i></a>
									<a class="btn btn-warning btn-lg active" th:href="@{/farmaco/update/} + ${farmaco.idfarmaco}"><i class="far fa-edit"></i></a>
									<button th:onclick="|onDeletefarmaco(${farmaco.idfarmaco});|" class="btn btn-danger btn-lg active"><i class="fas fa-trash-alt"></i></button>
								</td>
							</tr>
						</tbody>
					</table>									
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
	<br>
	<hr>
	
</body>
<div th:replace="layout :: frgFooter"></div>
<div th:replace="layout :: frgScripts"></div>
<script th:inline="javascript">
function onDeletefarmaco(id){	
	/*<![CDATA[*/
		//var message = /*[[${confirmar}]]*/
		Swal.fire({
				title : 'Eliminar registro', 
				icon : 'warning',
				showCancelButton: true,
				confirmButtonText: 'Eliminar',
				cancelButtonText:'Cancelar',
				closeOnConfirm: false
				}).then((choice) => {
			        if (choice.value == true) {
			            $.ajax({
			                type: "GET",
			                url : "/farmaco/delete/" + id,
			            });
			        }		
			        location.reload();
			    });
	/*]]>*/
		
}
</script>
</html>